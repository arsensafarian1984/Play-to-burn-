<!DOCTYPE html>
<html>
<head>
    <title>TON Burner Game</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://sad.adsgram.ai/js/adsgram-adbox.js"></script> <style>
        body { margin: 0; background: #0088cc; font-family: sans-serif; overflow: hidden; text-align: center; }
        canvas { display: block; background: #fff; margin: 20px auto; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .ui { color: white; font-size: 20px; font-weight: bold; }
        button { padding: 15px 30px; font-size: 18px; cursor: pointer; background: #f39c12; border: none; border-radius: 5px; color: white; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="ui">
        <p>TON BURNER GAME</p>
        <div id="score">Score: 0</div>
    </div>
    <canvas id="gameCanvas" width="320" height="480"></canvas>
    <div id="gameOver" style="display:none;">
        <h2 style="color:white;">GAME OVER!</h2>
        <button onclick="showAd()">WATCH AD TO BURN TON</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let score = 0;
        let gameActive = true;

        // تنظیمات تبلیغات AdsGram
        const AdController = window.Adsgram.init({ blockId: "YOUR_BLOCK_ID_HERE" });

        function showAd() {
            AdController.show().then((result) => {
                // بعد از دیدن تبلیغ، بازی ریست می‌شود
                alert("Thank you! Revenue added to Burn Pool.");
                resetGame();
            }).catch((result) => {
                alert("Ad skipped or failed. Try again!");
                resetGame();
            });
        }

        // --- منطق بسیار ساده بازی ---
        let player = { x: 50, y: 200, w: 30, h: 30, dy: 0, jump: -6 };
        let gravity = 0.4;

        function draw() {
            if (!gameActive) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // جاذبه
            player.dy += gravity;
            player.y += player.dy;
            
            // برخورد به زمین
            if (player.y + player.h > canvas.height) {
                gameActive = false;
                document.getElementById('gameOver').style.display = 'block';
            }

            ctx.fillStyle = "#0088cc";
            ctx.fillRect(player.x, player.y, player.w, player.h);
            
            requestAnimationFrame(draw);
        }

        function resetGame() {
            player.y = 200; player.dy = 0; score = 0;
            gameActive = true;
            document.getElementById('gameOver').style.display = 'none';
            draw();
        }

        canvas.addEventListener('click', () => { player.dy = player.jump; });
        draw();
    </script>
</body>
</html>
